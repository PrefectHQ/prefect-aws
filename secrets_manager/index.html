
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Tasks for interacting with AWS Secrets Manager">
      
      
      
        <link rel="canonical" href="https://PrefectHQ.github.io/prefect-aws/secrets_manager/">
      
      
        <link rel="prev" href="../s3/">
      
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.12">
    
    
      
        <title>Secrets Manager - prefect-aws</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8CSMBCQDKN"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-8CSMBCQDKN');
</script>
<!-- Segment analytics -->
<script>
    !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="xDLAoTXsNYpC4Y6JucKnJ8W1MYBuyAbD";;analytics.SNIPPET_VERSION="4.15.3";
    analytics.load("xDLAoTXsNYpC4Y6JucKnJ8W1MYBuyAbD");
    analytics.page();
    }}();
</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prefect_aws.secrets_manager" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="prefect-aws" class="md-header__button md-logo" aria-label="prefect-aws" data-md-component="logo">
      
  <img src="../img/prefect-logo-mark.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            prefect-aws
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Secrets Manager
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/PrefectHQ/prefect-aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="prefect-aws" class="md-nav__button md-logo" aria-label="prefect-aws" data-md-component="logo">
      
  <img src="../img/prefect-logo-mark.png" alt="logo">

    </a>
    prefect-aws
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/PrefectHQ/prefect-aws" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ecs_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ECS Worker Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../blocks_catalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blocks Catalog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples_catalog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples Catalog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../batch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Batch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../client_waiter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client Waiter
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../credentials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credentials
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ecs_worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ECS Worker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ecs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ECS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lambda_function/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lambda
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
        
          
          <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Deployments
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            Deployments
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Steps
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    S3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Secrets Manager
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Secrets Manager
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret" class="md-nav__link">
    <span class="md-ellipsis">
      AwsSecret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AwsSecret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.secret_name" class="md-nav__link">
    <span class="md-ellipsis">
      secret_name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.__json_encoder__" class="md-nav__link">
    <span class="md-ellipsis">
      __json_encoder__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.delete_secret" class="md-nav__link">
    <span class="md-ellipsis">
      delete_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.read_secret" class="md-nav__link">
    <span class="md-ellipsis">
      read_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.write_secret" class="md-nav__link">
    <span class="md-ellipsis">
      write_secret()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.create_secret" class="md-nav__link">
    <span class="md-ellipsis">
      create_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.delete_secret" class="md-nav__link">
    <span class="md-ellipsis">
      delete_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.read_secret" class="md-nav__link">
    <span class="md-ellipsis">
      read_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.update_secret" class="md-nav__link">
    <span class="md-ellipsis">
      update_secret()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret" class="md-nav__link">
    <span class="md-ellipsis">
      AwsSecret
    </span>
  </a>
  
    <nav class="md-nav" aria-label="AwsSecret">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Attributes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Attributes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.secret_name" class="md-nav__link">
    <span class="md-ellipsis">
      secret_name
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.__json_encoder__" class="md-nav__link">
    <span class="md-ellipsis">
      __json_encoder__()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.delete_secret" class="md-nav__link">
    <span class="md-ellipsis">
      delete_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.read_secret" class="md-nav__link">
    <span class="md-ellipsis">
      read_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.AwsSecret.write_secret" class="md-nav__link">
    <span class="md-ellipsis">
      write_secret()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.create_secret" class="md-nav__link">
    <span class="md-ellipsis">
      create_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.delete_secret" class="md-nav__link">
    <span class="md-ellipsis">
      delete_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.read_secret" class="md-nav__link">
    <span class="md-ellipsis">
      read_secret()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect_aws.secrets_manager.update_secret" class="md-nav__link">
    <span class="md-ellipsis">
      update_secret()
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<div class="doc doc-object doc-module">



<h1 id="prefect_aws.secrets_manager" class="doc doc-heading">
        <code>prefect_aws.secrets_manager</code>



</h1>

    <div class="doc doc-contents first">

      <p>Tasks for interacting with AWS Secrets Manager</p>



  <div class="doc doc-children">





<h2 id="prefect_aws.secrets_manager-classes">Classes</h2>

  <div class="doc doc-object doc-class">



<h3 id="prefect_aws.secrets_manager.AwsSecret" class="doc doc-heading">
        <code>
AwsSecret            (<span title="prefect.blocks.abstract.SecretBlock">SecretBlock</span>)
        </code>


  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-model"><code>pydantic-model</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Manages a secret in AWS's Secrets Manager.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>aws_credentials</code></td>
        <td><code>AwsCredentials</code></td>
        <td><p>The credentials to use for authentication with AWS.</p></td>
      </tr>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret.</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">AwsSecret</span><span class="p">(</span><span class="n">SecretBlock</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manages a secret in AWS&#39;s Secrets Manager.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        aws_credentials: The credentials to use for authentication with AWS.</span>
<span class="sd">        secret_name: The name of the secret.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_logo_url</span> <span class="o">=</span> <span class="s2">&quot;https://cdn.sanity.io/images/3ugk85nk/production/d74b16fe84ce626345adf235a47008fea2869a60-225x225.png&quot;</span>  <span class="c1"># noqa</span>
    <span class="n">_block_type_name</span> <span class="o">=</span> <span class="s2">&quot;AWS Secret&quot;</span>
    <span class="n">_documentation_url</span> <span class="o">=</span> <span class="s2">&quot;https://prefecthq.github.io/prefect-aws/secrets_manager/#prefect_aws.secrets_manager.AwsSecret&quot;</span>  <span class="c1"># noqa</span>

    <span class="n">aws_credentials</span><span class="p">:</span> <span class="n">AwsCredentials</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="n">default</span><span class="o">=...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;The name of the secret.&quot;</span><span class="p">)</span>

    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">read_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">version_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">version_stage</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">read_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads the secret from the secret storage service.</span>

<span class="sd">        Args:</span>
<span class="sd">            version_id: The version of the secret to read. If not provided, the latest</span>
<span class="sd">                version will be read.</span>
<span class="sd">            version_stage: The version stage of the secret to read. If not provided,</span>
<span class="sd">                the latest version will be read.</span>
<span class="sd">            read_kwargs: Additional keyword arguments to pass to the</span>
<span class="sd">                `get_secret_value` method of the boto3 client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The secret data.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Reads a secret.</span>
<span class="sd">            ```python</span>
<span class="sd">            secrets_manager = SecretsManager.load(&quot;MY_BLOCK&quot;)</span>
<span class="sd">            secrets_manager.read_secret()</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_secrets_manager_client</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">version_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">read_kwargs</span><span class="p">[</span><span class="s2">&quot;VersionId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">version_id</span>
        <span class="k">if</span> <span class="n">version_stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">read_kwargs</span><span class="p">[</span><span class="s2">&quot;VersionStage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">version_stage</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">,</span> <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span> <span class="o">**</span><span class="n">read_kwargs</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="s2">&quot;SecretBinary&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;SecretBinary&quot;</span><span class="p">]</span>
        <span class="k">elif</span> <span class="s2">&quot;SecretString&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
            <span class="n">secret</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">]</span>
        <span class="n">arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;ARN&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">arn</span><span class="si">!r}</span><span class="s2"> data was successfully read.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">secret</span>

    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">write_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">secret_data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="o">**</span><span class="n">put_or_create_secret_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes the secret to the secret storage service as a SecretBinary;</span>
<span class="sd">        if it doesn&#39;t exist, it will be created.</span>

<span class="sd">        Args:</span>
<span class="sd">            secret_data: The secret data to write.</span>
<span class="sd">            **put_or_create_secret_kwargs: Additional keyword arguments to pass to</span>
<span class="sd">                put_secret_value or create_secret method of the boto3 client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path that the secret was written to.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Write some secret data.</span>
<span class="sd">            ```python</span>
<span class="sd">            secrets_manager = SecretsManager.load(&quot;MY_BLOCK&quot;)</span>
<span class="sd">            secrets_manager.write_secret(b&quot;my_secret_data&quot;)</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_secrets_manager_client</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
                <span class="n">client</span><span class="o">.</span><span class="n">put_secret_value</span><span class="p">,</span>
                <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
                <span class="n">SecretBinary</span><span class="o">=</span><span class="n">secret_data</span><span class="p">,</span>
                <span class="o">**</span><span class="n">put_or_create_secret_kwargs</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">client</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ResourceNotFoundException</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="si">!r}</span><span class="s2"> does not exist yet, creating it now.&quot;</span>
            <span class="p">)</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
                <span class="n">client</span><span class="o">.</span><span class="n">create_secret</span><span class="p">,</span>
                <span class="n">Name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
                <span class="n">SecretBinary</span><span class="o">=</span><span class="n">secret_data</span><span class="p">,</span>
                <span class="o">**</span><span class="n">put_or_create_secret_kwargs</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;ARN&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret data was written successfully to </span><span class="si">{</span><span class="n">arn</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">arn</span>

    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">recovery_window_in_days</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
        <span class="n">force_delete_without_recovery</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="o">**</span><span class="n">delete_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deletes the secret from the secret storage service.</span>

<span class="sd">        Args:</span>
<span class="sd">            recovery_window_in_days: The number of days to wait before permanently</span>
<span class="sd">                deleting the secret. Must be between 7 and 30 days.</span>
<span class="sd">            force_delete_without_recovery: If True, the secret will be deleted</span>
<span class="sd">                immediately without a recovery window.</span>
<span class="sd">            **delete_kwargs: Additional keyword arguments to pass to the</span>
<span class="sd">                delete_secret method of the boto3 client.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The path that the secret was deleted from.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Deletes the secret with a recovery window of 15 days.</span>
<span class="sd">            ```python</span>
<span class="sd">            secrets_manager = SecretsManager.load(&quot;MY_BLOCK&quot;)</span>
<span class="sd">            secrets_manager.delete_secret(recovery_window_in_days=15)</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">force_delete_without_recovery</span> <span class="ow">and</span> <span class="n">recovery_window_in_days</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Cannot specify recovery window and force delete without recovery.&quot;</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">7</span> <span class="o">&lt;=</span> <span class="n">recovery_window_in_days</span> <span class="o">&lt;=</span> <span class="mi">30</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Recovery window must be between 7 and 30 days, got &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">recovery_window_in_days</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_secrets_manager_client</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">,</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
            <span class="n">RecoveryWindowInDays</span><span class="o">=</span><span class="n">recovery_window_in_days</span><span class="p">,</span>
            <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="n">force_delete_without_recovery</span><span class="p">,</span>
            <span class="o">**</span><span class="n">delete_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;ARN&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">arn</span><span class="si">}</span><span class="s2"> was deleted successfully.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">arn</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">




<h4 id="prefect_aws.secrets_manager.AwsSecret-attributes">Attributes</h4>















  <div class="doc doc-object doc-attribute">



<h5 id="prefect_aws.secrets_manager.AwsSecret.secret_name" class="doc doc-heading">
<code class="highlight language-python"><span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-pydantic-field"><code>pydantic-field</code></small>
      <small class="doc doc-property doc-property-required"><code>required</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>The name of the secret.</p>
    </div>

  </div>





<h4 id="prefect_aws.secrets_manager.AwsSecret-methods">Methods</h4>

  <div class="doc doc-object doc-method">



<h5 id="prefect_aws.secrets_manager.AwsSecret.__json_encoder__" class="doc doc-heading">
<code class="highlight language-python"><span class="n">__json_encoder__</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
      <small class="doc doc-property doc-property-staticmethod"><code>staticmethod</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>partial(func, <em>args, </em>*keywords) - new function with partial application
of the given arguments and keywords.</p>

    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="prefect_aws.secrets_manager.AwsSecret.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Deletes the secret from the secret storage service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>recovery_window_in_days</code></td>
        <td><code>int</code></td>
        <td><p>The number of days to wait before permanently
deleting the secret. Must be between 7 and 30 days.</p></td>
        <td><code>30</code></td>
      </tr>
      <tr>
        <td><code>force_delete_without_recovery</code></td>
        <td><code>bool</code></td>
        <td><p>If True, the secret will be deleted
immediately without a recovery window.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>**delete_kwargs</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Additional keyword arguments to pass to the
delete_secret method of the boto3 client.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The path that the secret was deleted from.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Deletes the secret with a recovery window of 15 days.
<div class="highlight"><pre><span></span><code><span class="n">secrets_manager</span> <span class="o">=</span> <span class="n">SecretsManager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;MY_BLOCK&quot;</span><span class="p">)</span>
<span class="n">secrets_manager</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">(</span><span class="n">recovery_window_in_days</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</code></pre></div></p>

        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">recovery_window_in_days</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
    <span class="n">force_delete_without_recovery</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">delete_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deletes the secret from the secret storage service.</span>

<span class="sd">    Args:</span>
<span class="sd">        recovery_window_in_days: The number of days to wait before permanently</span>
<span class="sd">            deleting the secret. Must be between 7 and 30 days.</span>
<span class="sd">        force_delete_without_recovery: If True, the secret will be deleted</span>
<span class="sd">            immediately without a recovery window.</span>
<span class="sd">        **delete_kwargs: Additional keyword arguments to pass to the</span>
<span class="sd">            delete_secret method of the boto3 client.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The path that the secret was deleted from.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Deletes the secret with a recovery window of 15 days.</span>
<span class="sd">        ```python</span>
<span class="sd">        secrets_manager = SecretsManager.load(&quot;MY_BLOCK&quot;)</span>
<span class="sd">        secrets_manager.delete_secret(recovery_window_in_days=15)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">force_delete_without_recovery</span> <span class="ow">and</span> <span class="n">recovery_window_in_days</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Cannot specify recovery window and force delete without recovery.&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">7</span> <span class="o">&lt;=</span> <span class="n">recovery_window_in_days</span> <span class="o">&lt;=</span> <span class="mi">30</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Recovery window must be between 7 and 30 days, got &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">recovery_window_in_days</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_secrets_manager_client</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
        <span class="n">client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">,</span>
        <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
        <span class="n">RecoveryWindowInDays</span><span class="o">=</span><span class="n">recovery_window_in_days</span><span class="p">,</span>
        <span class="n">ForceDeleteWithoutRecovery</span><span class="o">=</span><span class="n">force_delete_without_recovery</span><span class="p">,</span>
        <span class="o">**</span><span class="n">delete_kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;ARN&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">arn</span><span class="si">}</span><span class="s2"> was deleted successfully.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">arn</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="prefect_aws.secrets_manager.AwsSecret.read_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_secret</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Reads the secret from the secret storage service.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>version_id</code></td>
        <td><code>str</code></td>
        <td><p>The version of the secret to read. If not provided, the latest
version will be read.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>version_stage</code></td>
        <td><code>str</code></td>
        <td><p>The version stage of the secret to read. If not provided,
the latest version will be read.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>read_kwargs</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Additional keyword arguments to pass to the
<code>get_secret_value</code> method of the boto3 client.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bytes</code></td>
      <td><p>The secret data.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Reads a secret.
<div class="highlight"><pre><span></span><code><span class="n">secrets_manager</span> <span class="o">=</span> <span class="n">SecretsManager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;MY_BLOCK&quot;</span><span class="p">)</span>
<span class="n">secrets_manager</span><span class="o">.</span><span class="n">read_secret</span><span class="p">()</span>
</code></pre></div></p>

        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">read_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">version_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version_stage</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">read_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads the secret from the secret storage service.</span>

<span class="sd">    Args:</span>
<span class="sd">        version_id: The version of the secret to read. If not provided, the latest</span>
<span class="sd">            version will be read.</span>
<span class="sd">        version_stage: The version stage of the secret to read. If not provided,</span>
<span class="sd">            the latest version will be read.</span>
<span class="sd">        read_kwargs: Additional keyword arguments to pass to the</span>
<span class="sd">            `get_secret_value` method of the boto3 client.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret data.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Reads a secret.</span>
<span class="sd">        ```python</span>
<span class="sd">        secrets_manager = SecretsManager.load(&quot;MY_BLOCK&quot;)</span>
<span class="sd">        secrets_manager.read_secret()</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_secrets_manager_client</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">version_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">read_kwargs</span><span class="p">[</span><span class="s2">&quot;VersionId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">version_id</span>
    <span class="k">if</span> <span class="n">version_stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">read_kwargs</span><span class="p">[</span><span class="s2">&quot;VersionStage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">version_stage</span>
    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
        <span class="n">client</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">,</span> <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span> <span class="o">**</span><span class="n">read_kwargs</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="s2">&quot;SecretBinary&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;SecretBinary&quot;</span><span class="p">]</span>
    <span class="k">elif</span> <span class="s2">&quot;SecretString&quot;</span> <span class="ow">in</span> <span class="n">response</span><span class="p">:</span>
        <span class="n">secret</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">]</span>
    <span class="n">arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;ARN&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="n">arn</span><span class="si">!r}</span><span class="s2"> data was successfully read.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">secret</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h5 id="prefect_aws.secrets_manager.AwsSecret.write_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_secret</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h5>

    <div class="doc doc-contents ">

      <p>Writes the secret to the secret storage service as a SecretBinary;
if it doesn't exist, it will be created.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_data</code></td>
        <td><code>bytes</code></td>
        <td><p>The secret data to write.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>**put_or_create_secret_kwargs</code></td>
        <td><code>Dict[str, Any]</code></td>
        <td><p>Additional keyword arguments to pass to
put_secret_value or create_secret method of the boto3 client.</p></td>
        <td><code>{}</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>The path that the secret was written to.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Write some secret data.
<div class="highlight"><pre><span></span><code><span class="n">secrets_manager</span> <span class="o">=</span> <span class="n">SecretsManager</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;MY_BLOCK&quot;</span><span class="p">)</span>
<span class="n">secrets_manager</span><span class="o">.</span><span class="n">write_secret</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;my_secret_data&quot;</span><span class="p">)</span>
</code></pre></div></p>

        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">write_secret</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">secret_data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span> <span class="o">**</span><span class="n">put_or_create_secret_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Writes the secret to the secret storage service as a SecretBinary;</span>
<span class="sd">    if it doesn&#39;t exist, it will be created.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_data: The secret data to write.</span>
<span class="sd">        **put_or_create_secret_kwargs: Additional keyword arguments to pass to</span>
<span class="sd">            put_secret_value or create_secret method of the boto3 client.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The path that the secret was written to.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Write some secret data.</span>
<span class="sd">        ```python</span>
<span class="sd">        secrets_manager = SecretsManager.load(&quot;MY_BLOCK&quot;)</span>
<span class="sd">        secrets_manager.write_secret(b&quot;my_secret_data&quot;)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">client</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_secrets_manager_client</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">put_secret_value</span><span class="p">,</span>
            <span class="n">SecretId</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
            <span class="n">SecretBinary</span><span class="o">=</span><span class="n">secret_data</span><span class="p">,</span>
            <span class="o">**</span><span class="n">put_or_create_secret_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">client</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">ResourceNotFoundException</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;The secret </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="si">!r}</span><span class="s2"> does not exist yet, creating it now.&quot;</span>
        <span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">create_secret</span><span class="p">,</span>
            <span class="n">Name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">secret_name</span><span class="p">,</span>
            <span class="n">SecretBinary</span><span class="o">=</span><span class="n">secret_data</span><span class="p">,</span>
            <span class="o">**</span><span class="n">put_or_create_secret_kwargs</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">arn</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;ARN&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The secret data was written successfully to </span><span class="si">{</span><span class="n">arn</span><span class="si">!r}</span><span class="s2">.&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">arn</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>


<h2 id="prefect_aws.secrets_manager-functions">Functions</h2>

  <div class="doc doc-object doc-function">



<h3 id="prefect_aws.secrets_manager.create_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">create_secret</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Creates a secret in AWS Secrets Manager.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of the secret to create.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_value</code></td>
        <td><code>Union[str, bytes]</code></td>
        <td><p>The value to store in the created secret.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>aws_credentials</code></td>
        <td><code>AwsCredentials</code></td>
        <td><p>Credentials to use for authentication with AWS.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>A description for the created secret.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>tags</code></td>
        <td><code>Optional[List[Dict[str, str]]]</code></td>
        <td><p>A list of tags to attach to the secret. Each tag should be specified as a
dictionary in the following format:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
    <span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="s2">&quot;Value&quot;</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">}</span>
</code></pre></div></p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>A dict containing the secret ARN (Amazon Resource Name),
    name, and current version ID.
    ```python
    {
        &#34;ARN&#34;</code></td>
      <td><p>str,
        "Name": str,
        "VersionId": str
    }
    ```</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Create a secret:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect_aws</span> <span class="kn">import</span> <span class="n">AwsCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_aws.secrets_manager</span> <span class="kn">import</span> <span class="n">create_secret</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">example_create_secret</span><span class="p">():</span>
    <span class="n">aws_credentials</span> <span class="o">=</span> <span class="n">AwsCredentials</span><span class="p">(</span>
        <span class="n">aws_access_key_id</span><span class="o">=</span><span class="s2">&quot;access_key_id&quot;</span><span class="p">,</span>
        <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="s2">&quot;secret_access_key&quot;</span>
    <span class="p">)</span>
    <span class="n">create_secret</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="s2">&quot;life_the_universe_and_everything&quot;</span><span class="p">,</span>
        <span class="n">secret_value</span><span class="o">=</span><span class="s2">&quot;42&quot;</span><span class="p">,</span>
        <span class="n">aws_credentials</span><span class="o">=</span><span class="n">aws_credentials</span>
    <span class="p">)</span>

<span class="n">example_create_secret</span><span class="p">()</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@task</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">create_secret</span><span class="p">(</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">secret_value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">],</span>
    <span class="n">aws_credentials</span><span class="p">:</span> <span class="n">AwsCredentials</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a secret in AWS Secrets Manager.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: The name of the secret to create.</span>
<span class="sd">        secret_value: The value to store in the created secret.</span>
<span class="sd">        aws_credentials: Credentials to use for authentication with AWS.</span>
<span class="sd">        description: A description for the created secret.</span>
<span class="sd">        tags: A list of tags to attach to the secret. Each tag should be specified as a</span>
<span class="sd">            dictionary in the following format:</span>
<span class="sd">            ```python</span>
<span class="sd">            {</span>
<span class="sd">                &quot;Key&quot;: str,</span>
<span class="sd">                &quot;Value&quot;: str</span>
<span class="sd">            }</span>
<span class="sd">            ```</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict containing the secret ARN (Amazon Resource Name),</span>
<span class="sd">            name, and current version ID.</span>
<span class="sd">            ```python</span>
<span class="sd">            {</span>
<span class="sd">                &quot;ARN&quot;: str,</span>
<span class="sd">                &quot;Name&quot;: str,</span>
<span class="sd">                &quot;VersionId&quot;: str</span>
<span class="sd">            }</span>
<span class="sd">            ```</span>
<span class="sd">    Example:</span>
<span class="sd">        Create a secret:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>
<span class="sd">        from prefect_aws import AwsCredentials</span>
<span class="sd">        from prefect_aws.secrets_manager import create_secret</span>

<span class="sd">        @flow</span>
<span class="sd">        def example_create_secret():</span>
<span class="sd">            aws_credentials = AwsCredentials(</span>
<span class="sd">                aws_access_key_id=&quot;access_key_id&quot;,</span>
<span class="sd">                aws_secret_access_key=&quot;secret_access_key&quot;</span>
<span class="sd">            )</span>
<span class="sd">            create_secret(</span>
<span class="sd">                secret_name=&quot;life_the_universe_and_everything&quot;,</span>
<span class="sd">                secret_value=&quot;42&quot;,</span>
<span class="sd">                aws_credentials=aws_credentials</span>
<span class="sd">            )</span>

<span class="sd">        example_create_secret()</span>
<span class="sd">        ```</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">create_secret_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
        <span class="n">Name</span><span class="o">=</span><span class="n">secret_name</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">create_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;Description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
    <span class="k">if</span> <span class="n">tags</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">create_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tags</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">secret_value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">create_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;SecretBinary&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_value</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">secret_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">create_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Please provide a bytes or str value for secret_value&quot;</span><span class="p">)</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_run_logger</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Creating secret named </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_boto3_session</span><span class="p">()</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s2">&quot;secretsmanager&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">create_secret</span><span class="p">,</span> <span class="o">**</span><span class="n">create_secret_kwargs</span>
        <span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;ResponseMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">response</span>
    <span class="k">except</span> <span class="n">ClientError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Unable to create secret </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>
        <span class="k">raise</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="prefect_aws.secrets_manager.delete_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">delete_secret</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Deletes a secret from AWS Secrets Manager.</p>
<p>Secrets can either be deleted immediately by setting <code>force_delete_without_recovery</code>
equal to <code>True</code>. Otherwise, secrets will be marked for deletion and available for
recovery for the number of days specified in <code>recovery_window_in_days</code></p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of the secret to be deleted.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>aws_credentials</code></td>
        <td><code>AwsCredentials</code></td>
        <td><p>Credentials to use for authentication with AWS.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>recovery_window_in_days</code></td>
        <td><code>int</code></td>
        <td><p>Number of days a secret should be recoverable for
before permanent deletion. Minium window is 7 days and maximum window
is 30 days. If <code>force_delete_without_recovery</code> is set to <code>True</code>, this
value will be ignored.</p></td>
        <td><code>30</code></td>
      </tr>
      <tr>
        <td><code>force_delete_without_recovery</code></td>
        <td><code>bool</code></td>
        <td><p>If <code>True</code>, the secret will be immediately
deleted and will not be recoverable.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>A dict containing the secret ARN (Amazon Resource Name),
    name, and deletion date of the secret. DeletionDate is the date and
    time of the delete request plus the number of days in
    `recovery_window_in_days`.
    ```python
    {
        &#34;ARN&#34;</code></td>
      <td><p>str,
        "Name": str,
        "DeletionDate": datetime.datetime
    }
    ```</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Delete a secret immediately:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect_aws</span> <span class="kn">import</span> <span class="n">AwsCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_aws.secrets_manager</span> <span class="kn">import</span> <span class="n">delete_secret</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">example_delete_secret_immediately</span><span class="p">():</span>
    <span class="n">aws_credentials</span> <span class="o">=</span> <span class="n">AwsCredentials</span><span class="p">(</span>
        <span class="n">aws_access_key_id</span><span class="o">=</span><span class="s2">&quot;access_key_id&quot;</span><span class="p">,</span>
        <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="s2">&quot;secret_access_key&quot;</span>
    <span class="p">)</span>
    <span class="n">delete_secret</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="s2">&quot;life_the_universe_and_everything&quot;</span><span class="p">,</span>
        <span class="n">aws_credentials</span><span class="o">=</span><span class="n">aws_credentials</span><span class="p">,</span>
        <span class="n">force_delete_without_recovery</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">)</span>

<span class="n">example_delete_secret_immediately</span><span class="p">()</span>
</code></pre></div>
<p>Delete a secret with a 90 day recovery window:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect_aws</span> <span class="kn">import</span> <span class="n">AwsCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_aws.secrets_manager</span> <span class="kn">import</span> <span class="n">delete_secret</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">example_delete_secret_with_recovery_window</span><span class="p">():</span>
    <span class="n">aws_credentials</span> <span class="o">=</span> <span class="n">AwsCredentials</span><span class="p">(</span>
        <span class="n">aws_access_key_id</span><span class="o">=</span><span class="s2">&quot;access_key_id&quot;</span><span class="p">,</span>
        <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="s2">&quot;secret_access_key&quot;</span>
    <span class="p">)</span>
    <span class="n">delete_secret</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="s2">&quot;life_the_universe_and_everything&quot;</span><span class="p">,</span>
        <span class="n">aws_credentials</span><span class="o">=</span><span class="n">aws_credentials</span><span class="p">,</span>
        <span class="n">recovery_window_in_days</span><span class="o">=</span><span class="mi">90</span>
    <span class="p">)</span>

<span class="n">example_delete_secret_with_recovery_window</span><span class="p">()</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@task</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">delete_secret</span><span class="p">(</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">aws_credentials</span><span class="p">:</span> <span class="n">AwsCredentials</span><span class="p">,</span>
    <span class="n">recovery_window_in_days</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
    <span class="n">force_delete_without_recovery</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deletes a secret from AWS Secrets Manager.</span>

<span class="sd">    Secrets can either be deleted immediately by setting `force_delete_without_recovery`</span>
<span class="sd">    equal to `True`. Otherwise, secrets will be marked for deletion and available for</span>
<span class="sd">    recovery for the number of days specified in `recovery_window_in_days`</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: Name of the secret to be deleted.</span>
<span class="sd">        aws_credentials: Credentials to use for authentication with AWS.</span>
<span class="sd">        recovery_window_in_days: Number of days a secret should be recoverable for</span>
<span class="sd">            before permanent deletion. Minium window is 7 days and maximum window</span>
<span class="sd">            is 30 days. If `force_delete_without_recovery` is set to `True`, this</span>
<span class="sd">            value will be ignored.</span>
<span class="sd">        force_delete_without_recovery: If `True`, the secret will be immediately</span>
<span class="sd">            deleted and will not be recoverable.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict containing the secret ARN (Amazon Resource Name),</span>
<span class="sd">            name, and deletion date of the secret. DeletionDate is the date and</span>
<span class="sd">            time of the delete request plus the number of days in</span>
<span class="sd">            `recovery_window_in_days`.</span>
<span class="sd">            ```python</span>
<span class="sd">            {</span>
<span class="sd">                &quot;ARN&quot;: str,</span>
<span class="sd">                &quot;Name&quot;: str,</span>
<span class="sd">                &quot;DeletionDate&quot;: datetime.datetime</span>
<span class="sd">            }</span>
<span class="sd">            ```</span>

<span class="sd">    Examples:</span>
<span class="sd">        Delete a secret immediately:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>
<span class="sd">        from prefect_aws import AwsCredentials</span>
<span class="sd">        from prefect_aws.secrets_manager import delete_secret</span>

<span class="sd">        @flow</span>
<span class="sd">        def example_delete_secret_immediately():</span>
<span class="sd">            aws_credentials = AwsCredentials(</span>
<span class="sd">                aws_access_key_id=&quot;access_key_id&quot;,</span>
<span class="sd">                aws_secret_access_key=&quot;secret_access_key&quot;</span>
<span class="sd">            )</span>
<span class="sd">            delete_secret(</span>
<span class="sd">                secret_name=&quot;life_the_universe_and_everything&quot;,</span>
<span class="sd">                aws_credentials=aws_credentials,</span>
<span class="sd">                force_delete_without_recovery: True</span>
<span class="sd">            )</span>

<span class="sd">        example_delete_secret_immediately()</span>
<span class="sd">        ```</span>

<span class="sd">        Delete a secret with a 90 day recovery window:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>
<span class="sd">        from prefect_aws import AwsCredentials</span>
<span class="sd">        from prefect_aws.secrets_manager import delete_secret</span>

<span class="sd">        @flow</span>
<span class="sd">        def example_delete_secret_with_recovery_window():</span>
<span class="sd">            aws_credentials = AwsCredentials(</span>
<span class="sd">                aws_access_key_id=&quot;access_key_id&quot;,</span>
<span class="sd">                aws_secret_access_key=&quot;secret_access_key&quot;</span>
<span class="sd">            )</span>
<span class="sd">            delete_secret(</span>
<span class="sd">                secret_name=&quot;life_the_universe_and_everything&quot;,</span>
<span class="sd">                aws_credentials=aws_credentials,</span>
<span class="sd">                recovery_window_in_days=90</span>
<span class="sd">            )</span>

<span class="sd">        example_delete_secret_with_recovery_window()</span>
<span class="sd">        ```</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">force_delete_without_recovery</span> <span class="ow">and</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">7</span> <span class="o">&lt;=</span> <span class="n">recovery_window_in_days</span> <span class="o">&lt;=</span> <span class="mi">30</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Recovery window must be between 7 and 30 days.&quot;</span><span class="p">)</span>

    <span class="n">delete_secret_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">force_delete_without_recovery</span><span class="p">:</span>
        <span class="n">delete_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;ForceDeleteWithoutRecovery&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">force_delete_without_recovery</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">delete_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;RecoveryWindowInDays&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">recovery_window_in_days</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_run_logger</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Deleting secret </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_boto3_session</span><span class="p">()</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s2">&quot;secretsmanager&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">delete_secret</span><span class="p">,</span> <span class="o">**</span><span class="n">delete_secret_kwargs</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;ResponseMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>
    <span class="k">except</span> <span class="n">ClientError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Unable to delete secret </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>
        <span class="k">raise</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="prefect_aws.secrets_manager.read_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_secret</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Reads the value of a given secret from AWS Secrets Manager.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of stored secret.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>aws_credentials</code></td>
        <td><code>AwsCredentials</code></td>
        <td><p>Credentials to use for authentication with AWS.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>version_id</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Specifies version of secret to read. Defaults to the most recent
version if not given.</p></td>
        <td><code>None</code></td>
      </tr>
      <tr>
        <td><code>version_stage</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Specifies the version stage of the secret to read. Defaults to
AWS_CURRENT if not given.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Union[str, bytes]</code></td>
      <td><p>The secret values as a <code>str</code> or <code>bytes</code> depending on the format in which the
    secret was stored.</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Read a secret value:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect_aws</span> <span class="kn">import</span> <span class="n">AwsCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_aws.secrets_manager</span> <span class="kn">import</span> <span class="n">read_secret</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">example_read_secret</span><span class="p">():</span>
    <span class="n">aws_credentials</span> <span class="o">=</span> <span class="n">AwsCredentials</span><span class="p">(</span>
        <span class="n">aws_access_key_id</span><span class="o">=</span><span class="s2">&quot;access_key_id&quot;</span><span class="p">,</span>
        <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="s2">&quot;secret_access_key&quot;</span>
    <span class="p">)</span>
    <span class="n">secret_value</span> <span class="o">=</span> <span class="n">read_secret</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="s2">&quot;db_password&quot;</span><span class="p">,</span>
        <span class="n">aws_credentials</span><span class="o">=</span><span class="n">aws_credentials</span>
    <span class="p">)</span>

<span class="n">example_read_secret</span><span class="p">()</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@task</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">read_secret</span><span class="p">(</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">aws_credentials</span><span class="p">:</span> <span class="n">AwsCredentials</span><span class="p">,</span>
    <span class="n">version_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version_stage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads the value of a given secret from AWS Secrets Manager.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: Name of stored secret.</span>
<span class="sd">        aws_credentials: Credentials to use for authentication with AWS.</span>
<span class="sd">        version_id: Specifies version of secret to read. Defaults to the most recent</span>
<span class="sd">            version if not given.</span>
<span class="sd">        version_stage: Specifies the version stage of the secret to read. Defaults to</span>
<span class="sd">            AWS_CURRENT if not given.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The secret values as a `str` or `bytes` depending on the format in which the</span>
<span class="sd">            secret was stored.</span>

<span class="sd">    Example:</span>
<span class="sd">        Read a secret value:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>
<span class="sd">        from prefect_aws import AwsCredentials</span>
<span class="sd">        from prefect_aws.secrets_manager import read_secret</span>

<span class="sd">        @flow</span>
<span class="sd">        def example_read_secret():</span>
<span class="sd">            aws_credentials = AwsCredentials(</span>
<span class="sd">                aws_access_key_id=&quot;access_key_id&quot;,</span>
<span class="sd">                aws_secret_access_key=&quot;secret_access_key&quot;</span>
<span class="sd">            )</span>
<span class="sd">            secret_value = read_secret(</span>
<span class="sd">                secret_name=&quot;db_password&quot;,</span>
<span class="sd">                aws_credentials=aws_credentials</span>
<span class="sd">            )</span>

<span class="sd">        example_read_secret()</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_run_logger</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Getting value for secret </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_boto3_session</span><span class="p">()</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s2">&quot;secretsmanager&quot;</span><span class="p">)</span>

    <span class="n">get_secret_value_kwargs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">version_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">get_secret_value_kwargs</span><span class="p">[</span><span class="s2">&quot;VersionId&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">version_id</span>
    <span class="k">if</span> <span class="n">version_stage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">get_secret_value_kwargs</span><span class="p">[</span><span class="s2">&quot;VersionStage&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">version_stage</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">get_secret_value</span><span class="p">,</span> <span class="o">**</span><span class="n">get_secret_value_kwargs</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">ClientError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Unable to get value for secret </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>
        <span class="k">raise</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SecretString&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">response</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;SecretBinary&quot;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="prefect_aws.secrets_manager.update_secret" class="doc doc-heading">
<code class="highlight language-python"><span class="n">update_secret</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

</h3>

    <div class="doc doc-contents ">

      <p>Updates the value of a given secret in AWS Secrets Manager.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>secret_name</code></td>
        <td><code>str</code></td>
        <td><p>Name of secret to update.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>secret_value</code></td>
        <td><code>Union[str, bytes]</code></td>
        <td><p>Desired value of the secret. Can be either <code>str</code> or <code>bytes</code>.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>aws_credentials</code></td>
        <td><code>AwsCredentials</code></td>
        <td><p>Credentials to use for authentication with AWS.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>Optional[str]</code></td>
        <td><p>Desired description of the secret.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>A dict containing the secret ARN (Amazon Resource Name),
    name, and current version ID.
    ```python
    {
        &#34;ARN&#34;</code></td>
      <td><p>str,
        "Name": str,
        "VersionId": str
    }
    ```</p></td>
    </tr>
  </tbody>
</table>
<p><strong>Examples:</strong></p>
    <p>Update a secret value:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect_aws</span> <span class="kn">import</span> <span class="n">AwsCredentials</span>
<span class="kn">from</span> <span class="nn">prefect_aws.secrets_manager</span> <span class="kn">import</span> <span class="n">update_secret</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">example_update_secret</span><span class="p">():</span>
    <span class="n">aws_credentials</span> <span class="o">=</span> <span class="n">AwsCredentials</span><span class="p">(</span>
        <span class="n">aws_access_key_id</span><span class="o">=</span><span class="s2">&quot;access_key_id&quot;</span><span class="p">,</span>
        <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="s2">&quot;secret_access_key&quot;</span>
    <span class="p">)</span>
    <span class="n">update_secret</span><span class="p">(</span>
        <span class="n">secret_name</span><span class="o">=</span><span class="s2">&quot;life_the_universe_and_everything&quot;</span><span class="p">,</span>
        <span class="n">secret_value</span><span class="o">=</span><span class="s2">&quot;42&quot;</span><span class="p">,</span>
        <span class="n">aws_credentials</span><span class="o">=</span><span class="n">aws_credentials</span>
    <span class="p">)</span>

<span class="n">example_update_secret</span><span class="p">()</span>
</code></pre></div>

        <details class="quote">
          <summary>Source code in <code>prefect_aws/secrets_manager.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="nd">@task</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">update_secret</span><span class="p">(</span>
    <span class="n">secret_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">secret_value</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">],</span>
    <span class="n">aws_credentials</span><span class="p">:</span> <span class="n">AwsCredentials</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Updates the value of a given secret in AWS Secrets Manager.</span>

<span class="sd">    Args:</span>
<span class="sd">        secret_name: Name of secret to update.</span>
<span class="sd">        secret_value: Desired value of the secret. Can be either `str` or `bytes`.</span>
<span class="sd">        aws_credentials: Credentials to use for authentication with AWS.</span>
<span class="sd">        description: Desired description of the secret.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A dict containing the secret ARN (Amazon Resource Name),</span>
<span class="sd">            name, and current version ID.</span>
<span class="sd">            ```python</span>
<span class="sd">            {</span>
<span class="sd">                &quot;ARN&quot;: str,</span>
<span class="sd">                &quot;Name&quot;: str,</span>
<span class="sd">                &quot;VersionId&quot;: str</span>
<span class="sd">            }</span>
<span class="sd">            ```</span>

<span class="sd">    Example:</span>
<span class="sd">        Update a secret value:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>
<span class="sd">        from prefect_aws import AwsCredentials</span>
<span class="sd">        from prefect_aws.secrets_manager import update_secret</span>

<span class="sd">        @flow</span>
<span class="sd">        def example_update_secret():</span>
<span class="sd">            aws_credentials = AwsCredentials(</span>
<span class="sd">                aws_access_key_id=&quot;access_key_id&quot;,</span>
<span class="sd">                aws_secret_access_key=&quot;secret_access_key&quot;</span>
<span class="sd">            )</span>
<span class="sd">            update_secret(</span>
<span class="sd">                secret_name=&quot;life_the_universe_and_everything&quot;,</span>
<span class="sd">                secret_value=&quot;42&quot;,</span>
<span class="sd">                aws_credentials=aws_credentials</span>
<span class="sd">            )</span>

<span class="sd">        example_update_secret()</span>
<span class="sd">        ```</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">update_secret_kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">SecretId</span><span class="o">=</span><span class="n">secret_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">update_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;Description&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">description</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">secret_value</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span>
        <span class="n">update_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;SecretBinary&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_value</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">secret_value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">update_secret_kwargs</span><span class="p">[</span><span class="s2">&quot;SecretString&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">secret_value</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Please provide a bytes or str value for secret_value&quot;</span><span class="p">)</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">get_run_logger</span><span class="p">()</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Updating value for secret </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">aws_credentials</span><span class="o">.</span><span class="n">get_boto3_session</span><span class="p">()</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s2">&quot;secretsmanager&quot;</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">run_sync_in_worker_thread</span><span class="p">(</span>
            <span class="n">client</span><span class="o">.</span><span class="n">update_secret</span><span class="p">,</span> <span class="o">**</span><span class="n">update_secret_kwargs</span>
        <span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;ResponseMetadata&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">response</span>
    <span class="k">except</span> <span class="n">ClientError</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">exception</span><span class="p">(</span><span class="s2">&quot;Unable to update secret </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">secret_name</span><span class="p">)</span>
        <span class="k">raise</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.prefect.io/slack/" target="_blank" rel="noopener" title="www.prefect.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discourse.prefect.io/" target="_blank" rel="noopener" title="discourse.prefect.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M225.9 32C103.3 32 0 130.5 0 252.1 0 256 .1 480 .1 480l225.8-.2c122.7 0 222.1-102.3 222.1-223.9C448 134.3 348.6 32 225.9 32zM224 384c-19.4 0-37.9-4.3-54.4-12.1L88.5 392l22.9-75c-9.8-18.1-15.4-38.9-15.4-61 0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.youtube.com/c/PrefectIO/videos" target="_blank" rel="noopener" title="www.youtube.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://prefect.io/guide/" target="_blank" rel="noopener" title="prefect.io" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M168 80c-13.3 0-24 10.7-24 24v304c0 8.4-1.4 16.5-4.1 24H440c13.3 0 24-10.7 24-24V104c0-13.3-10.7-24-24-24H168zM72 480c-39.8 0-72-32.2-72-72V112c0-13.3 10.7-24 24-24s24 10.7 24 24v296c0 13.3 10.7 24 24 24s24-10.7 24-24V104c0-39.8 32.2-72 72-72h272c39.8 0 72 32.2 72 72v304c0 39.8-32.2 72-72 72H72zm104-344c0-13.3 10.7-24 24-24h96c13.3 0 24 10.7 24 24v80c0 13.3-10.7 24-24 24h-96c-13.3 0-24-10.7-24-24v-80zm200-24h32c13.3 0 24 10.7 24 24s-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24s10.7-24 24-24zm0 80h32c13.3 0 24 10.7 24 24s-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24s10.7-24 24-24zm-176 80h208c13.3 0 24 10.7 24 24s-10.7 24-24 24H200c-13.3 0-24-10.7-24-24s10.7-24 24-24zm0 80h208c13.3 0 24 10.7 24 24s-10.7 24-24 24H200c-13.3 0-24-10.7-24-24s10.7-24 24-24z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/PrefectIO" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/prefect/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/PrefectHQ/prefect" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hub.docker.com/r/prefecthq/prefect/" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/prefect/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.code.annotate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  </body>
</html>